(self.webpackChunkqxpblog=self.webpackChunkqxpblog||[]).push([[853],{1853:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return an}});var r=t(1413),s=t(9439),o=t(3433),i=t(2791),c=t(184);function a(){var e=(0,c.jsxs)("div",{children:["123",(0,c.jsx)("p",{children:"456"})]});return console.log(e),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"fiber\uff08\u6240\u770b\u7684react\u4ee3\u7801\u662f2022\u5e748\u6708\u4eceGitHub\u62c9\u4e0b\u6765\u7684\uff09"}),(0,c.jsxs)("p",{children:["\u9996\u5148\uff0c\u770b ",(0,c.jsx)("a",{href:"https://juejin.cn/post/6966180503003070500",children:"\u751f\u547d\u5468\u671f"})]}),(0,c.jsx)("p",{children:"react\u91c7\u7528\u7684\u662f\u540c\u6b65\u9012\u5f52\u7684\u5f62\u5f0f\uff08\u865a\u62dfdom\u91cc\u9762\u6709children\uff0cchildren\u8fd8\u6709children\uff0c\u53ea\u80fd\u4f7f\u7528\u9012\u5f52\uff09\u53bb\u6839\u636e\u865a\u62dfdom\u6765\u66f4\u65b0\u8282\u70b9\uff0c \u5f53\u8282\u70b9\u5f88\u6df1\uff0c\u5f88\u591a\u7684\u65f6\u5019\uff0c\u9012\u5f52\u5c31\u4f1a\u5f88\u8017\u65f6"}),(0,c.jsxs)("p",{children:[" \u9ad8\u8d28\u91cf\uff1a",(0,c.jsx)("a",{href:"https://juejin.cn/post/6943896410987659277#heading-10",children:"fiber\u6398\u91d1\u89e3\u91ca-1"})," "]}),(0,c.jsx)("p",{children:(0,c.jsx)("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestIdleCallback#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7",children:"requestIdleCallback"})}),(0,c.jsx)("p",{children:"\u7531\u4e8erequestIdleCallback\u7684\u4e00\u4e9b\u7f3a\u9677\uff1a\uff08\u5b9e\u9645\u53ea\u670920\u5e27\uff0c\u517c\u5bb9\u6027\u592a\u5dee\uff09react\u5df2\u7ecf\u4f7f\u7528requestHostCallback\uff08react\u57fa\u4e8eMessageChannel\uff08\u4f18\u5148\uff09/settimeout\u5b9e\u73b0\u7684\u51fd\u6570\uff09\u6765\u66ff\u4ee3; \u81f3\u4e8e\u4e3a\u4ec0\u4e48\u4e0d\u7528\u5fae\u4efb\u52a1\uff1b\u56e0\u4e3a\u5bf9\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\u673a\u5236\u6765\u8bf4\uff0c\u5728\u9875\u9762\u66f4\u65b0\u524d\uff0c\u4f1a\u5c06\u6240\u6709\u7684\u5fae\u4efb\u52a1\u5168\u90e8\u6267\u884c\u5b8c\uff0c\u6545\u65e0\u6cd5\u8fbe\u6210\u5c06\u4e3b\u7ebf\u7a0b\u8ba9\u51fa\u7ed9\u6d4f\u89c8\u5668\u7684\u76ee\u7684\u3002"}),(0,c.jsx)("h2",{children:"\u4e2a\u4eba\u7406\u89e3\uff1a"}),(0,c.jsxs)("p",{children:["\u5728fiber\u51fa\u73b0\u4e4b\u524d\uff0816.3\uff09\u4e4b\u524d\uff0c react\u662f\u76f4\u63a5\u5bf9\u6bd4\u66f4\u65b0\u524d\u540e\u7684\u865a\u62dfdom\u6811\uff08diff\u9012\u5f52\u7b97\u6cd5\uff1areact\u4f18\u5316\u540e\u7684\u6811\u904d\u5386\u7b97\u6cd5\uff09\uff0c\u5f53\u6811\u5f88\u6df1\u5f88\u5927\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u662f\u5f88\u6d88\u8017\u65f6\u95f4\u7684\uff1b \u865a\u62dfdom\u6811\u7684\u6570\u636e\u7ed3\u6784\uff1a",(0,c.jsx)("pre",{children:"\n                        {\n                            key:..,\n                            props:..,\n                            children:..,\n                            ...\n                        }\n                        "}),"\u5b83\u53ea\u8bb0\u5f55\u4e86\u5b50\u8282\u70b9\uff0c\u8fd9\u5c31\u5bfc\u81f4\u4e86\u5b83\u53ea\u80fd\u81ea\u4e0a\u800c\u4e0b\u7684\u53bb\u904d\u5386",(0,c.jsx)("br",{}),"\u4e8e\u662f\u51fa\u73b0\u4e86fiber\uff1a fiber\u5728\u865a\u62dfdom\u7684\u57fa\u7840\u4e0a\uff0c\u7531\u6811\u53d8\u6210\u4e86\u94fe\u8868\uff0c\u6bcf\u4e2afiber\u8282\u70b9\u4f9d\u7136\u548c\u65e7\u7684\u865a\u62dfdom\u8282\u70b9\u4e00\u6837\uff0c\u4e0d\u540c\u7684\u662f\uff0cfiber\u65b0\u589e\u4e86\u5c5e\u6027\uff1a",(0,c.jsx)("pre",{children:"\n                        {\n                            key:..,\n                            props:..,\n                            child: \u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9,\n                            sibling: \u672c\u8282\u70b9\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9,\n                            return: \u7236\u8282\u70b9\n                        }\n                        "}),"\u53d8\u6210\u94fe\u8868\u7684fiber\u6570\u636e\u7ed3\u6784\uff0c\u53ea\u8981\u77e5\u9053\u5b83\u7684\u4e00\u4e2a\u8282\u70b9\uff0c\u5c31\u53ef\u4ee5\u77e5\u9053\u8fd9\u4e2a\u6570\u636e\u7684\u6240\u6709\u8282\u70b9\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6bcf\u6b21\u53ea\u6bd4\u5bf9\u4e00\u4e2a\u8282\u70b9\uff1b \u5f02\u6b65\u6bd4\u5bf9\uff0creact\u5219\u662f\u4f7f\u7528\u4e86\u57fa\u4e8e\u5b8f\u4efb\u52a1channelMessage/\u5b9a\u65f6\u5668\u5b9e\u73b0\u7684requestHostCallback\u51fd\u6570\uff0c\u5f04\u4e86\u4e00\u5957\u5f02\u6b65\u8c03\u5ea6\u7b97\u6cd5\uff1b \u8fd9\u6837\uff0cdiff\u7b97\u6cd5\u5c31\u53d8\u6210\u5f02\u6b65\u7684\u5b8f\u4efb\u52a1\u4e86\uff1b\u5982\u679c\u6709\u4f18\u5148\u7ea7\u66f4\u9ad8\u7684\u4e8b\u4ef6\uff0c\u6bd4\u5982\u7528\u6237\u8f93\u5165\uff0c\u5fae\u4efb\u52a1\u4e4b\u7c7b\u7684\uff0c\u90a3\u4e48diff\u7b97\u6cd5\u5c31\u4f1a"]})]})}var l="styles_container__mcztz",d="styles_left__qCzlE",u="styles_right__XRvNX",h=t(9275),x=t(7295),f="style_text__8fJOJ",p="style_singleText__KWEdM";function j(e,n){for(var t=[],r=e;r<=n;r++)t.push((0,c.jsx)("span",{title:"\\u{".concat(r.toString(16).padStart(6,"0"),"}"),className:p,children:String.fromCodePoint(r)}));return t}function v(){var e=(0,i.useRef)(null),n=(0,i.useState)(0),t=(0,s.Z)(n,2),r=t[0],o=t[1],a=(0,i.useState)(400),l=(0,s.Z)(a,2),d=l[0];l[1];return(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"\u4e00\u4e9bunicode\u5b57\u7b26"}),(0,c.jsxs)("p",{children:["unicode\u5b57\u7b26\u96c6\uff1a\u8d77\u6b62\u503c\u4e0d\u5f97\u8d85\u8fc7\u8fd9\u4e2a\u8303\u56f4\uff1a0-1114111\uff080x10FFFF\uff09",(0,c.jsx)("br",{}),"\u5f53\u524d\u8303\u56f4\uff1a",r,"-",r+d]}),(0,c.jsxs)("button",{onClick:function(){var e=r+d;e>=0&&e<=1114111-d&&o(e)},children:["\u52a0",d]}),(0,c.jsxs)("button",{onClick:function(){var e=r-d;e>=0&&e<=1114111&&o(e)},children:["\u51cf",d]}),(0,c.jsx)("div",{ref:e,className:f,children:j(r,r+d)})]})}var m=t(7462),b=t(4942),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},y=t(4291),k=function(e,n){return i.createElement(y.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:g}))};k.displayName="RightOutlined";var C=i.forwardRef(k),Z=t(1694),S=t.n(Z),E=t(5671),w=t(3144),P=t(136),R=t(7277),I=t(1002),N=t(5501),M=t(9613),T=t.n(M),A=t(4925),_=t(5207),L=i.forwardRef((function(e,n){var t,r=e.prefixCls,o=e.forceRender,c=e.className,a=e.style,l=e.children,d=e.isActive,u=e.role,h=i.useState(d||o),x=(0,s.Z)(h,2),f=x[0],p=x[1];return i.useEffect((function(){(o||d)&&p(!0)}),[o,d]),f?i.createElement("div",{ref:n,className:S()("".concat(r,"-content"),(t={},(0,b.Z)(t,"".concat(r,"-content-active"),d),(0,b.Z)(t,"".concat(r,"-content-inactive"),!d),t),c),style:a,role:u},i.createElement("div",{className:"".concat(r,"-content-box")},l)):null}));L.displayName="PanelContent";var O=L,H=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],B=function(e){(0,P.Z)(t,e);var n=(0,R.Z)(t);function t(){var e;(0,E.Z)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=n.call.apply(n,[this].concat(s))).onItemClick=function(){var n=e.props,t=n.onItemClick,r=n.panelKey;"function"===typeof t&&t(r)},e.handleKeyPress=function(n){"Enter"!==n.key&&13!==n.keyCode&&13!==n.which||e.onItemClick()},e.renderIcon=function(){var n=e.props,t=n.showArrow,r=n.expandIcon,s=n.prefixCls,o=n.collapsible;if(!t)return null;var c="function"===typeof r?r(e.props):i.createElement("i",{className:"arrow"});return c&&i.createElement("div",{className:"".concat(s,"-expand-icon"),onClick:"header"===o||"icon"===o?e.onItemClick:null},c)},e.renderTitle=function(){var n=e.props,t=n.header,r=n.prefixCls,s=n.collapsible;return i.createElement("span",{className:"".concat(r,"-header-text"),onClick:"header"===s?e.onItemClick:null},t)},e}return(0,w.Z)(t,[{key:"shouldComponentUpdate",value:function(e){return!T()(this.props,e)}},{key:"render",value:function(){var e,n,t=this.props,r=t.className,s=t.id,o=t.style,c=t.prefixCls,a=t.headerClass,l=t.children,d=t.isActive,u=t.destroyInactivePanel,h=t.accordion,x=t.forceRender,f=t.openMotion,p=t.extra,j=t.collapsible,v=(0,A.Z)(t,H),g="disabled"===j,y="header"===j,k="icon"===j,C=S()((e={},(0,b.Z)(e,"".concat(c,"-item"),!0),(0,b.Z)(e,"".concat(c,"-item-active"),d),(0,b.Z)(e,"".concat(c,"-item-disabled"),g),e),r),Z={className:S()("".concat(c,"-header"),(n={},(0,b.Z)(n,a,a),(0,b.Z)(n,"".concat(c,"-header-collapsible-only"),y),(0,b.Z)(n,"".concat(c,"-icon-collapsible-only"),k),n)),"aria-expanded":d,"aria-disabled":g,onKeyPress:this.handleKeyPress};y||k||(Z.onClick=this.onItemClick,Z.role=h?"tab":"button",Z.tabIndex=g?-1:0);var E=null!==p&&void 0!==p&&"boolean"!==typeof p;return delete v.header,delete v.panelKey,delete v.onItemClick,delete v.showArrow,delete v.expandIcon,i.createElement("div",(0,m.Z)({},v,{className:C,style:o,id:s}),i.createElement("div",Z,this.renderIcon(),this.renderTitle(),E&&i.createElement("div",{className:"".concat(c,"-extra")},p)),i.createElement(_.Z,(0,m.Z)({visible:d,leavedClassName:"".concat(c,"-content-hidden")},f,{forceRender:x,removeOnLeave:u}),(function(e,n){var t=e.className,r=e.style;return i.createElement(O,{ref:n,prefixCls:c,className:t,style:r,isActive:d,forceRender:x,role:h?"tabpanel":null},l)})))}}]),t}(i.Component);B.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var F=B;function K(e){var n=e;if(!Array.isArray(n)){var t=(0,I.Z)(n);n="number"===t||"string"===t?[n]:[]}return n.map((function(e){return String(e)}))}var q=function(e){(0,P.Z)(t,e);var n=(0,R.Z)(t);function t(e){var r;(0,E.Z)(this,t),(r=n.call(this,e)).onClickItem=function(e){var n=r.state.activeKey;if(r.props.accordion)n=n[0]===e?[]:[e];else{var t=(n=(0,o.Z)(n)).indexOf(e);t>-1?n.splice(t,1):n.push(e)}r.setActiveKey(n)},r.getNewChild=function(e,n){if(!e)return null;var t=r.state.activeKey,s=r.props,o=s.prefixCls,c=s.openMotion,a=s.accordion,l=s.destroyInactivePanel,d=s.expandIcon,u=s.collapsible,h=e.key||String(n),x=e.props,f=x.header,p=x.headerClass,j=x.destroyInactivePanel,v=x.collapsible,m=null!==v&&void 0!==v?v:u,b={key:h,panelKey:h,header:f,headerClass:p,isActive:a?t[0]===h:t.indexOf(h)>-1,prefixCls:o,destroyInactivePanel:null!==j&&void 0!==j?j:l,openMotion:c,accordion:a,children:e.props.children,onItemClick:"disabled"===m?null:r.onClickItem,expandIcon:d,collapsible:m};return"string"===typeof e.type?e:(Object.keys(b).forEach((function(e){"undefined"===typeof b[e]&&delete b[e]})),i.cloneElement(e,b))},r.getItems=function(){var e=r.props.children;return(0,N.Z)(e).map(r.getNewChild)},r.setActiveKey=function(e){"activeKey"in r.props||r.setState({activeKey:e}),r.props.onChange(r.props.accordion?e[0]:e)};var s=e.activeKey,c=e.defaultActiveKey;return"activeKey"in e&&(c=s),r.state={activeKey:K(c)},r}return(0,w.Z)(t,[{key:"shouldComponentUpdate",value:function(e,n){return!T()(this.props,e)||!T()(this.state,n)}},{key:"render",value:function(){var e,n=this.props,t=n.prefixCls,r=n.className,s=n.style,o=n.accordion,c=S()((e={},(0,b.Z)(e,t,!0),(0,b.Z)(e,r,!!r),e));return i.createElement("div",{className:c,style:s,role:o?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var n={};return"activeKey"in e&&(n.activeKey=K(e.activeKey)),n}}]),t}(i.Component);q.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},q.Panel=F;var z=q,X=(q.Panel,t(1818)),D=t(1929),U=t(9464),W=t(1113),G=function(e){var n=i.useContext(D.E_).getPrefixCls,t=e.prefixCls,r=e.className,s=void 0===r?"":r,o=e.showArrow,c=void 0===o||o,a=n("collapse",t),l=S()((0,b.Z)({},a+"-no-arrow",!c),s);return i.createElement(z.Panel,(0,m.Z)({},e,{prefixCls:a,className:l}))},J=t(6753),V=t(5564),Y=t(9922),Q=t(7521),$=function(e){var n,t,r,s,o=e.componentCls,i=e.collapseContentBg,c=e.padding,a=e.collapseContentPaddingHorizontal,l=e.collapseHeaderBg,d=e.collapseHeaderPadding,u=e.collapsePanelBorderRadius,h=e.lineWidth,x=e.lineType,f=e.colorBorder,p=e.colorText,j=e.colorTextHeading,v=e.colorTextDisabled,g=e.fontSize,y=e.lineHeight,k=e.marginSM,C=e.paddingSM,Z=e.motionDurationSlow,S=e.fontSizeIcon,E=h+"px "+x+" "+f;return(0,b.Z)({},o,(0,m.Z)((0,m.Z)({},(0,Q.Wf)(e)),(s={backgroundColor:l,border:E,borderBottom:0,borderRadius:u+"px"},(0,b.Z)(s,"&-rtl",{direction:"rtl"}),(0,b.Z)(s,"& > "+o+"-item",(t={borderBottom:E},(0,b.Z)(t,"&:last-child",(0,b.Z)({},"\n            &,\n            & > "+o+"-header",{borderRadius:"0 0 "+u+"px "+u+"px"})),(0,b.Z)(t,"> "+o+"-header",(n={position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:d,color:j,lineHeight:y,cursor:"pointer",transition:"all "+Z+", visibility 0s"},(0,b.Z)(n,"> "+o+"-header-text",{flex:"auto"}),(0,b.Z)(n,"&:focus",{outline:"none"}),(0,b.Z)(n,o+"-expand-icon",{height:g*y,display:"flex",alignItems:"center",paddingInlineEnd:k}),(0,b.Z)(n,o+"-arrow",(0,m.Z)((0,m.Z)({},(0,Q.Ro)()),{fontSize:S,svg:{transition:"transform "+Z}})),(0,b.Z)(n,o+"-header-text",{marginInlineEnd:"auto"}),n)),(0,b.Z)(t,o+"-header-collapsible-only",(0,b.Z)({cursor:"default"},o+"-header-text",{flex:"none",cursor:"pointer"})),(0,b.Z)(t,o+"-icon-collapsible-only",(0,b.Z)({cursor:"default"},o+"-expand-icon",{cursor:"pointer"})),(0,b.Z)(t,"&"+o+"-no-arrow",(0,b.Z)({},"> "+o+"-header",{paddingInlineStart:C})),t)),(0,b.Z)(s,o+"-content",(r={color:p,backgroundColor:i,borderTop:E},(0,b.Z)(r,"& > "+o+"-content-box",{padding:c+"px "+a+"px"}),(0,b.Z)(r,"&-hidden",{display:"none"}),r)),(0,b.Z)(s,o+"-item:last-child",(0,b.Z)({},"> "+o+"-content",{borderRadius:"0 0 "+u+"px "+u+"px"})),(0,b.Z)(s,"& "+o+"-item-disabled > "+o+"-header",(0,b.Z)({},"\n          &,\n          & > .arrow\n        ",{color:v,cursor:"not-allowed"})),(0,b.Z)(s,"&"+o+"-icon-position-end",(0,b.Z)({},"& > "+o+"-item",(0,b.Z)({},"> "+o+"-header",(0,b.Z)({},o+"-expand-icon",{order:1,paddingInlineEnd:0,paddingInlineStart:k})))),s)))},ee=function(e){var n=e.componentCls,t="> "+n+"-item > "+n+"-header "+n+"-arrow svg";return(0,b.Z)({},n+"-rtl",(0,b.Z)({},t,{transform:"rotate(180deg)"}))},ne=function(e){var n,t=e.componentCls,r=e.collapseHeaderBg,s=e.paddingXXS,o=e.colorBorder;return(0,b.Z)({},t+"-borderless",(n={backgroundColor:r,border:0},(0,b.Z)(n,"> "+t+"-item",{borderBottom:"1px solid "+o}),(0,b.Z)(n,"\n        > "+t+"-item:last-child,\n        > "+t+"-item:last-child "+t+"-header\n      ",{borderRadius:0}),(0,b.Z)(n,"> "+t+"-item:last-child",{borderBottom:0}),(0,b.Z)(n,"> "+t+"-item > "+t+"-content",{backgroundColor:"transparent",borderTop:0}),(0,b.Z)(n,"> "+t+"-item > "+t+"-content > "+t+"-content-box",{paddingTop:s}),n))},te=function(e){var n=e.componentCls,t=e.paddingSM;return(0,b.Z)({},n+"-ghost",(0,b.Z)({backgroundColor:"transparent",border:0},"> "+n+"-item",(0,b.Z)({borderBottom:0},"> "+n+"-content",(0,b.Z)({backgroundColor:"transparent",border:0},"> "+n+"-content-box",{paddingBlock:t}))))},re=(0,V.Z)("Collapse",(function(e){var n=(0,Y.TS)(e,{collapseContentBg:e.colorBgContainer,collapseHeaderBg:e.colorFillAlter,collapseHeaderPadding:e.paddingSM+"px "+e.padding+"px",collapsePanelBorderRadius:e.borderRadiusLG,collapseContentPaddingHorizontal:16});return[$(n),ne(n),te(n),ee(n),(0,J.Z)(n)]})),se=function(e){var n,t=i.useContext(D.E_),r=t.getPrefixCls,o=t.direction,c=e.prefixCls,a=e.className,l=void 0===a?"":a,d=e.bordered,u=void 0===d||d,h=e.ghost,x=e.expandIconPosition,f=void 0===x?"start":x,p=r("collapse",c),j=r(),v=re(p),g=(0,s.Z)(v,2),y=g[0],k=g[1],Z=i.useMemo((function(){return"left"===f?"start":"right"===f?"end":f}),[f]),E=S()(p+"-icon-position-"+Z,(n={},(0,b.Z)(n,p+"-borderless",!u),(0,b.Z)(n,p+"-rtl","rtl"===o),(0,b.Z)(n,p+"-ghost",!!h),n),l,k),w=(0,m.Z)((0,m.Z)({},(0,U.ZP)(j)),{motionAppear:!1,leavedClassName:p+"-content-hidden"});return y(i.createElement(z,(0,m.Z)({openMotion:w},e,{expandIcon:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expandIcon,r=t?t(n):i.createElement(C,{rotate:n.isActive?90:void 0});return(0,W.Tm)(r,(function(){return{className:S()(r.props.className,p+"-arrow")}}))},prefixCls:p,className:E}),function(){var n=e.children;return(0,N.Z)(n).map((function(e,n){var t;if(null===(t=e.props)||void 0===t?void 0:t.disabled){var r=e.key||String(n),s=e.props,o=s.disabled,i=s.collapsible,c=(0,m.Z)((0,m.Z)({},(0,X.Z)(e.props,["disabled"])),{key:r,collapsible:null!==i&&void 0!==i?i:o?"disabled":void 0});return(0,W.Tm)(e,c)}return e}))}()))};se.Panel=G;var oe=se,ie="styles_root__OjyRP";function ce(){return(0,c.jsxs)("div",{className:ie,children:[(0,c.jsx)("h3",{children:"\u8868\u5355\u76f8\u5173"}),"\u901a\u8fc7form1 = document.forms.form1\u53ef\u4ee5\u770b\u5230\u5177\u6709name:form1\u5c5e\u6027\u7684\u8868\u5355form1 ",(0,c.jsx)("br",{}),"\u901a\u8fc7form1.elements.a\uff08\u6216\u8005form1.a,\u524d\u63d0\u662f\u4e0d\u53ef\u4ee5\u4fee\u6539name\u5c5e\u6027\uff09\u53ef\u4ee5\u83b7\u53d6\u5230\u6240\u6709\u5177\u6709name:a\u5c5e\u6027\u7684\u8868\u5355\u63a7\u4ef6\uff1b ",(0,c.jsx)("br",{}),"\u901a\u8fc7form1.elements.a.form === form1",(0,c.jsxs)(oe,{defaultActiveKey:["1"],children:[(0,c.jsx)(oe.Panel,{header:"input\u7c7b\u578b",children:(0,c.jsxs)("form",{onFocusCapture:function(e){console.log("form\u6355\u83b7focus\uff1a",e)},name:"form1",action:"",onInput:function(e){return console.log("onInput\u4e8b\u4ef6\u89e6\u53d1:",e)},children:[(0,c.jsx)("code",{children:"range\uff1a"}),(0,c.jsx)("input",{name:"a",id:"a",type:"range",min:"0",max:"100"}),"100+",(0,c.jsx)("input",{name:"b",id:"b",type:"text",value:"50"}),"=",(0,c.jsx)("output",{name:"x",htmlFor:"a b"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),"checkbox: checkbox1.checked \u83b7\u53d6checkbox\u7684\u503c\u4e3atrue/false\uff0cvalue\u5219\u4e00\u76f4\u662f'on'",(0,c.jsx)("input",{name:"checkbox1",type:"checkbox"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsxs)("select",{name:"select1",id:"select",children:[(0,c.jsx)("option",{value:"apple",children:"Apple"}),(0,c.jsx)("option",{value:"pear",children:"Pear"}),(0,c.jsx)("option",{value:"banana",children:"Banana"})]}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("h4",{children:"focus\uff1a\u4e0etabIndex"}),"tabIndex\u4f7f\u4efb\u4f55\u5143\u7d20\u90fd\u53ef\u4ee5\u4f7f\u7528ele.focus\uff08\uff09,\u4ee5\u53ca\u4f2a\u7c7b:focus\u7b49\uff0c\u5e76\u4e14\u70b9\u51fb\u5b83\u4e5f\u53ef\u4f7f\u5b83\u805a\u7126",(0,c.jsx)("div",{onFocus:function(){console.log("div\u7684\u666e\u901aonFocus")},tabIndex:-1,children:(0,c.jsxs)("div",{children:["tabIndex\u4f7f\u4efb\u4f55\u5143\u7d20\u90fd\u53ef\u4ee5\u70b9\u51fb\u805a\u7126",(0,c.jsx)("br",{}),"focus,blur\u65e0\u6cd5\u5192\u6ce1\uff0c\u4f46\u662f\u53ef\u4ee5\u6355\u83b7,react\u901a\u8fc7onFocusCapture\u5373\u53ef(form\u7528\u8fd9\u4e2a\u5373\u53ef)"]})})]})},"1"),(0,c.jsx)(oe.Panel,{header:"This is panel header 2"},"2"),(0,c.jsx)(oe.Panel,{header:"This is panel header 3"},"3")]})]})}function ae(){var e=(0,i.useState)(window.location.origin),n=(0,s.Z)(e,2),t=n[0],r=n[1],o=(0,i.useState)("\u4f20\u8f93\u7684\u5185\u5bb9"),a=(0,s.Z)(o,2),l=a[0],d=a[1],u=(0,i.useState)(),h=(0,s.Z)(u,2),x=h[0],f=h[1];return(0,i.useEffect)((function(){window.onmessage=function(e,n){return console.log("\u63a5\u53d7\u5230\u7684\u5185\u5bb9:",{handle:e,v:n}),""}})),(0,c.jsxs)("div",{children:["postMessage\u5fc5\u987b\u8981\u6709\u5bf9\u8be5\u7a97\u53e3\u7684\u5f15\u7528\uff0c\u624d\u53ef\u4ee5\u5411\u8be5\u7a97\u53e3\u53d1\u9001\u4fe1\u606f",(0,c.jsx)("h3",{children:"PostMessage\u6d4b\u8bd5"}),"\u5411\u8be5\u7f51\u7ad9\u7a97\u53e3\u53d1\u9001\u4fe1\u606f\uff1a",(0,c.jsx)("input",{value:t,onChange:function(e){r(e.target.value)},type:"text"})," ",(0,c.jsx)("br",{})," ",(0,c.jsx)("br",{}),"\u8be5\u7a97\u53e3\u5173\u95ed\u540e\u91cd\u65b0\u6253\u5f00\uff1a ",(0,c.jsx)("input",{type:"checkbox"})," ",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),"\u9700\u8981\u4f20\u8f93\u7684\u5185\u5bb9\uff1a",(0,c.jsx)("input",{value:l,onChange:function(e){d(e.target.value)},type:"text"}),(0,c.jsx)("button",{onClick:function(){if(!x||x.closed){var e=window.open(t,t);f(e)}console.log(x),null===x||void 0===x||x.postMessage(l,t)},children:"\u53d1\u9001\u5185\u5bb9"})]})}var le="styles_container__bas6L";function de(){return(0,c.jsxs)("div",{children:[(0,c.jsxs)("h3",{children:["http\u8bf7\u6c42 \uff0c",(0,c.jsx)("a",{href:"https://blog.csdn.net/m0_37145844/article/details/106917749",children:"\u5b89\u5168\u7684\u8bf7\u6c42\u7b49"})," "]}),(0,c.jsxs)("div",{className:le,children:[(0,c.jsx)("h3",{children:"1. \u70b9\u52ab\u6301\u653b\u51fb"}),(0,c.jsx)("p",{children:"\u539f\u7406\uff1a\u5047\u8bbe\u6211\u662f\u4e00\u4e2a\u6076\u610f\u7f51\u7ad9\uff0c\u505a\u4e86\u4e00\u4e2a\u6309\u94ae\uff1a\u70b9\u51fb\u7ecf\u9a8c\u52a03\uff1b\u5e76\u4e14\u628a\u5f04\u4e2aiframe\uff0c\u628acsdn\u7684\u5173\u6ce8\u6309\u94ae\u5bf9\u51c6\u8fd9\u4e2a+3\u6309\u94ae\uff0c \u90a3\u4e48\u5f53\u4f60\u6253\u5f00\u6076\u610f\u7f51\u7ad9\uff0c\u5c31\u4f1a\u52a0\u8f7d\u8fd9\u4e2aiframe\uff0c\u7531\u4e8e\u81ea\u52a8\u767b\u5f55\uff0ccsdn\u4f1a\u81ea\u52a8\u767b\u5f55\u4e0a\uff0c\u5f53\u4f60\u70b9\u51fb+3\uff0c\u5b9e\u9645\u70b9\u51fb\u7684\u5c31\u662f\u4f60\u767b\u5f55\u540e\u7684csdn\u7684\u6309\u94ae\uff0c"}),(0,c.jsxs)("p",{children:["\u9632\u6b62\u7684\u65b9\u6cd5\uff1a http\u5934\u4e2d\u52a0\uff1a ",(0,c.jsx)("br",{}),"X-FRAME-OPTIONS ",(0,c.jsx)("br",{}),"X-FRAME-OPTIONS\u662f\u5fae\u8f6f\u63d0\u51fa\u7684\u4e00\u4e2ahttp\u5934\uff0c\u4e13\u95e8\u7528\u6765\u9632\u5fa1\u5229\u7528iframe\u5d4c\u5957\u7684\u70b9\u51fb\u52ab\u6301\u653b\u51fb\u3002\u5e76\u4e14\u5728IE8\u3001Firefox3.6\u3001Chrome4\u4ee5\u4e0a\u7684\u7248\u672c\u5747\u80fd\u5f88\u597d\u7684\u652f\u6301\u3002 \u8fd9\u4e2a\u5934\u53ef\u4ee5\u914d\u7f6e\uff1a",(0,c.jsx)("br",{}),"DENY \u62d2\u7edd\u4efb\u4f55\u57df\u52a0\u8f7d ",(0,c.jsx)("br",{}),"SAMEORIGIN \u5141\u8bb8\u540c\u6e90\u57df\u4e0b\u52a0\u8f7d ",(0,c.jsx)("br",{}),"ALLOW-FROM \u53ef\u4ee5\u5b9a\u4e49\u5141\u8bb8frame\u52a0\u8f7d\u7684\u9875\u9762\u5730\u5740 ",(0,c.jsx)("br",{})]}),"\u8fd9\u6837\u5c31\u53ef\u4ee5\u7981\u6b62\u8be5\u7f51\u7ad9\u5728iframe\u4e2d\u663e\u793a\uff0c\u6bd4\u5982\u767e\u5ea6\uff1a",(0,c.jsx)("iframe",{src:"https://www.baidu.com",width:100,height:200})]}),(0,c.jsxs)("div",{className:le,children:[(0,c.jsx)("h3",{children:"2. CSRF/XSRF \u653b\u51fb"}),(0,c.jsx)("h4",{children:(0,c.jsx)("a",{href:"https://zh.javascript.info/cookie#samesite",children:"sameSite\u6709\u5173\u4e8e\u6b64"})}),(0,c.jsx)("h5",{children:"csrf\u539f\u7406\uff1a"}),"\u60f3\u8c61\u4e00\u4e0b\uff0c\u4f60\u767b\u5f55\u4e86 bank.com \u7f51\u7ad9\u3002\u6b64\u65f6\uff1a\u4f60\u6709\u4e86\u6765\u81ea\u8be5\u7f51\u7ad9\u7684\u8eab\u4efd\u9a8c\u8bc1 cookie\u3002\u4f60\u7684\u6d4f\u89c8\u5668\u4f1a\u5728\u6bcf\u6b21\u8bf7\u6c42\u65f6\u5c06\u5176\u53d1\u9001\u5230 bank.com\uff0c\u4ee5\u4fbf\u8bc6\u522b\u4f60\uff0c\u5e76\u6267\u884c\u6240\u6709\u654f\u611f\u7684\u8d22\u52a1\u4e0a\u7684\u64cd\u4f5c\u3002 \u73b0\u5728\uff0c\u5728\u53e6\u5916\u4e00\u4e2a\u7a97\u53e3\u4e2d\u6d4f\u89c8\u7f51\u9875\u65f6\uff0c\u4f60\u4e0d\u5c0f\u5fc3\u8bbf\u95ee\u4e86\u53e6\u4e00\u4e2a\u7f51\u7ad9 evil.com\u3002\u8be5\u7f51\u7ad9\u5177\u6709\u5411 bank.com \u7f51\u7ad9\u63d0\u4ea4\u4e00\u4e2a\u5177\u6709\u542f\u52a8\u4e0e\u9ed1\u5ba2\u8d26\u6237\u4ea4\u6613\u7684\u5b57\u6bb5\u7684\u8868\u5355",(0,c.jsx)("br",{}),' <form action="https://bank.com/pay">'," \u7684 JavaScript \u4ee3\u7801\u3002 \u4f60\u6bcf\u6b21\u8bbf\u95ee bank.com \u65f6\uff0c\u6d4f\u89c8\u5668\u90fd\u4f1a\u53d1\u9001 cookie\uff0c\u5373\u4f7f\u8be5\u8868\u5355\u662f\u4ece evil.com \u63d0\u4ea4\u8fc7\u6765\u7684\u3002\u56e0\u6b64\uff0c\u94f6\u884c\u4f1a\u8bc6\u522b\u4f60\u7684\u8eab\u4efd\uff0c\u5e76\u6267\u884c\u771f\u5b9e\u7684\u4ed8\u6b3e\u3002",(0,c.jsx)("h4",{children:"\u5982\u4f55\u9632\u8303\uff1a"}),(0,c.jsx)("h5",{children:"\u4f7f\u7528cookie\u7684sameSite\u5c5e\u6027\uff0c\u4fdd\u5b58\u8eab\u4efd\u76f8\u5173\u7684\u5b57\u6bb5\uff0c\u4f7f\u975e\u540c\u4e00\u4e2aurl\u7684\u7f51\u7ad9\u53d1\u7684\u8bf7\u6c42\u4e0d\u643a\u5e26\u8be5\u8eab\u4efdcookie"}),(0,c.jsxs)("pre",{children:["SameSite \u80fd\u591f\u6709\u4e0b\u9762\u4e09\u79cd\u503c\uff1a\n\nStrict \u4ec5\u5bb9\u8bb8\u4e00\u65b9\u8bf7\u6c42\u643a\u5e26 Cookie\uff0c\u5373\u6d4f\u89c8\u5668\u5c06\u53ea\u53d1\u9001\u76f8\u540c\u7ad9\u70b9\u8bf7\u6c42\u7684 Cookie\uff0c\u5373\u5f53\u524d\u7f51\u9875 URL \u4e0e\u8bf7\u6c42\u76ee\u6807 URL \u5f7b\u5e95\u4e00\u81f4\u3002\nLax \u4ec5\u8fd9\u79cd\u60c5\u51b5\u53ef\u4ee5\u53d1\u9001\uff1a\u662fget/head\u8bf7\u6c42\uff0c\u5e76\u4e14\u8be5\u64cd\u4f5c\u6267\u884c\u9876\u7ea7\u5bfc\u822a\uff08\u66f4\u6539\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e2d\u7684 URL\uff0c\u5982iframe\u548cjs\u8bf7\u6c42\u5c31\u4e0d\u662f\u9876\u7ea7\u5bfc\u822a\u680f\uff09\nNone \u4e0d\u7ba1\u662f\u5426\u8de8\u7ad9\u90fd\u4f1a\u53d1\u9001 Cookie\n\n\u4ee5\u524d\u9ed8\u8ba4\u662f None \u7684\uff0cChrome80 \u540e\u9ed8\u8ba4\u662f Lax\u3002",(0,c.jsx)("a",{href:"https://blog.csdn.net/weixin_38289101/article/details/127977426",children:" \u539f\u6587\u94fe\u63a5\uff1a"})]}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("h5",{children:"csrf Token"}),"\u6d4f\u89c8\u5668\u53d1\u8bf7\u6c42\u53ea\u662f\u4f1a\u643a\u5e26cookie\uff0c\u7b2c\u4e09\u65b9\u662f\u770b\u4e0d\u5230\u7684\uff0c\u6240\u4ee5\u540e\u7aef\u76f4\u63a5\u901a\u8fc7set-cookie\u8bbe\u7f6e\u4e00\u4e2atoken\uff0c \uff0c\u7136\u540e\u524d\u7aef\u5c06token\u653e\u5230url\u7684\u53c2\u6570\u91cc\uff0c\u540e\u7aef\u5bf9\u6bd4cookie\u4e2d\u7684token\u548curl\u4e2d\u7684token\u5373\u53ef"]}),(0,c.jsxs)("div",{className:le,children:[(0,c.jsx)("h3",{children:"xss\u653b\u51fb"}),"\u539f\u7406\uff1a\u7528\u6237\u8f93\u5165\u7684\u5185\u5bb9\u88ab\u5f53\u4f5chtml/js\u4ee3\u7801\u6267\u884c\u4e86\uff1b ",(0,c.jsx)("br",{}),"\u5c31\u524d\u7aef\u6765\u8bf4\uff0creact\u4f1a\u5c06\u7528\u6237\u7684\u8f93\u5165\u81ea\u52a8\u8f6c\u4e49\u6210\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u4e0d\u7528\u62c5\u5fc3\u7528\u6237\u4f1a\u76f4\u63a5\u6ce8\u5165html\uff0c\u4f46\u662freact\u4e2d\u6709\u4e00\u4e9b\u5199\u6cd5\uff0c\u53ef\u80fd\u4f1a\u5c06\u7528\u6237\u7684\u8f93\u5165\u5f53\u4f5chtml\u6267\u884c\uff1b \u6bd4\u5982\u4f7f\u7528innterhtml\u76f8\u5173\u7684api\u63d2\u5165\u7528\u6237\u7684\u8f93\u5165\u5230\u4ee3\u7801\u4e2d\uff1b",(0,c.jsx)("br",{}),"\u6216\u8005\u4f7f\u7528\u7528\u6237\u7684\u8f93\u5165\u76f4\u63a5\u4f5c\u4e3a\u67d0\u4e9b\u6807\u7b7e\u7684url\uff0c\u4f46\u662f\u4ed6\u5374\u4f7f\u7528\u4e86javascript:\u5f00\u5934\uff0c\u8fd9\u4f1a\u5bfc\u81f4js\u5c06\u8fd9\u4e2aurl\u5f53\u4f5cjs\u6267\u884c\uff1b \u5173\u4e8e\u8fd9\u79cd\u5f62\u5f0f\u7684\u653b\u51fb\uff0c\u4e0d\u4ec5\u524d\u7aef\u9700\u8981\u8fc7\u6ee4\uff0c\u5e76\u4e14\u540e\u7aef\u4e5f\u9700\u8981\u8fc7\u6ee4\uff0c\u56e0\u4e3a\u7528\u6237\u662f\u53ef\u4ee5\u901a\u8fc7\u672c\u5730\u66ff\u6362\u9879\u76ee\u4ee3\u7801\uff0c\u8fdb\u884c\u4fee\u6539\u9a8c\u8bc1\u903b\u8f91\uff0c\u4ece\u800c\u7ed5\u8fc7\u524d\u7aef\u7684\u9a8c\u8bc1\u7684\uff1b"]})]})}function ue(){return(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:"XmlAndFetch"}),(0,c.jsx)("h2",{children:"\u9700\u8981\u628alocalhost\u6362\u6210http://127.0.0.1/"}),(0,c.jsx)("pre",{children:"\nfetch('http://127.0.0.1:8080/',{\n    method:'POST',\n    headers:{\n      \"Accept\":\"*/*\"  \n    },\n    mode:'cors',\n    body:'post\u8bf7\u6c42\u7684body'\n}).then((res)=>res.text()).then((e)=>console.log(e))\n              "}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("h6",{children:"fetch\u7528\u6cd5\uff1a"}),(0,c.jsx)("pre",{children:'\nlet promise = fetch(url, {\n  method: "GET", // POST\uff0cPUT\uff0cDELETE\uff0c\u7b49\u3002\n  headers: {\n    // \u5185\u5bb9\u7c7b\u578b header \u503c\u901a\u5e38\u662f\u81ea\u52a8\u8bbe\u7f6e\u7684\n    // \u53d6\u51b3\u4e8e request body\n    "Content-Type": "text/plain;charset=UTF-8"\n  },\n  body: undefined // string\uff0cFormData\uff0cBlob\uff0cBufferSource\uff0c\u6216 URLSearchParams\n  referrer: "about:client", // \u6216 "" \u4ee5\u4e0d\u53d1\u9001 Referer header\uff0c\n  // \u6216\u8005\u662f\u5f53\u524d\u6e90\u7684 url\n  referrerPolicy: "no-referrer-when-downgrade", // no-referrer\uff0corigin\uff0csame-origin...\n  mode: "cors", // same-origin\uff0cno-cors\n  credentials: "same-origin", // omit\uff0cinclude\uff0c\u4e0e\u662f\u5426\u643a\u5e26cookie\u6709\u5173\n  cache: "default", // no-store\uff0creload\uff0cno-cache\uff0cforce-cache\uff0c\u6216 only-if-cached\n  redirect: "follow", // manual\uff0cerror\n  integrity: "", // \u4e00\u4e2a hash\uff0c\u50cf "sha256-abcdef1234567890"\n  keepalive: false, // true\n  signal: undefined, // AbortController \u6765\u4e2d\u6b62\u8bf7\u6c42\n  window: window // null\n});\n                  '}),(0,c.jsx)("h3",{children:"XMLHttpRequest"}),(0,c.jsx)("button",{onClick:he,children:"\u53d1\u9001xml\u8bf7\u6c42"})]})}function he(){var e=new XMLHttpRequest;e.open("GET","http://127.0.0.1:8080/?a1=a888"),e.setRequestHeader("X-Auth","123"),e.setRequestHeader("X-Auth","456"),e.send(),e.onload=function(){200!=e.status?console.log("xhr:",e):console.log("200xhr\uff1a",e)},e.timeout=1e4,e.responseType="",e.onprogress=function(e){e.lengthComputable?alert("Received ".concat(e.loaded," of ").concat(e.total," bytes")):alert("Received ".concat(e.loaded," bytes"))},e.onreadystatechange=function(){e.readyState,e.readyState},e.onerror=function(){alert("Request failed")}}function xe(){return(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"\u6d4f\u89c8\u5668\u7f13\u5b58"}),"\u9996\u5148\uff0c\u6d4f\u89c8\u5668\u7f13\u5b58\u53ea\u9488\u5bf9get\u8bf7\u6c42\uff1b \u5f3a\u7f13\u5b58\uff1a\u9700\u8981url\u5b8c\u5168\u4e00\u81f4\uff0c\u5305\u62ecurl\u540e\u7684\u53c2\u6570\uff0c\u624d\u4f1a\u751f\u6548\uff1b ",(0,c.jsx)("br",{}),(0,c.jsx)("h3",{children:"\u54cd\u5e94\u5934"}),(0,c.jsx)("h3",{children:(0,c.jsx)("a",{href:"https://blog.csdn.net/yehuozhili/article/details/103268433",children:"\u770b\u8fd9\u91cc"})}),(0,c.jsx)("h4",{children:"\u5148\u8bf4\u5f3a\u7f13\u5b58"}),"\u67092\u4e2a\u54cd\u5e94\u5934\u6765\u8bbe\u7f6e\u5f3a\u7f13\u5b58 ",(0,c.jsx)("br",{}),"\u5f3a\u7f13\u5b58\u4e0d\u4f1a\u8bbf\u95ee\u5230\u670d\u52a1\u5668",(0,c.jsx)("br",{}),"\u5f3a\u7f13\u5b58\u8bbe\u7f6e\u9760\u8bf7\u6c42\u5934\u7684Cache-Control\u6216\u8005Expires\uff0c\u542c\u8bf4\u6709\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u8001\u7684\u662fExpires\uff0c\u73b0\u5728\u8d8a\u6765\u8d8a\u591a\u6d4f\u89c8\u5668\u652f\u6301Cache-Control\u4e86\uff0c\u5efa\u8bae\u5168\u90fd\u8bbe\u4e0a\u3002",(0,c.jsx)("br",{}),(0,c.jsx)("b",{children:"cache-control"})," ",(0,c.jsx)("br",{}),"res.setHeader('Cache-Control', 'no-store;max-age=5'); // \u4e0d\u4f7f\u7528\u7f13\u5b58\uff1b5\u79d2",(0,c.jsx)("br",{}),"\u9996\u5148\u662fcache-control\u7684\u53ef\u7f13\u5b58\u6027 \u3001\u5230\u671f\u6027\uff0c\u8fd9\u4e24\u4e2a\u53ef\u4ee5\u4e00\u8d77\u5199\uff1b ",(0,c.jsx)("br",{}),(0,c.jsx)("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control",children:"mdn"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),"Cache-Control\u8bbe\u7f6e\u7684\u662f\u4e2a\u76f8\u5bf9\u4e8e\u73b0\u5728\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u79d2\uff0cExpires\u8bbe\u7f6e\u7684\u662fGMT\u65f6\u95f4\uff0c\u4ee5\u8bbe\u7f6e10\u79d2\u4e3a\u4f8b\uff1a",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),"res.setHeader('Expires',new Date(Date.now()+10*1000).toGMTString()) ",(0,c.jsx)("br",{}),"res.setHeader('Cache-Control','max-age=10')",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("h4",{children:"\u534f\u5546\u7f13\u5b58"}),"\u5148\u770bLast-Modified\u8bbe\u7f6e\uff1a",(0,c.jsx)("br",{}),(0,c.jsxs)("b",{children:[" \u534f\u5546\u7f13\u5b58\u662f\u5426\u751f\u6548\uff0c\u662f\u53ef\u4ee5\u7531\u540e\u7aef\u4ee3\u7801\u51b3\u5b9a\u7684\uff01: ",(0,c.jsx)("br",{}),"\u540e\u7aef\u4ee3\u7801\u8fd4\u5fc5\u987b\u56de304\uff0c\u6d4f\u89c8\u5668\u5c31\u624d\u4f1a\u8fdb\u884c\u534f\u5546\u7f13\u5b58\uff01"]})," ",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),"\u670d\u52a1\u7aef\u8bbe\u7f6eLast-Modified\u540e\uff0c\u6d4f\u89c8\u5668\u8bf7\u6c42\u540c\u4e00\u4e2a\u8d44\u6e90\u4f1a\u5e26if-modified-since\u7684\u8bf7\u6c42\u5934\uff0c",(0,c.jsx)("br",{}),"\u6240\u4ee5\u670d\u52a1\u7aef\u8fd8\u8981\u83b7\u53d6\u8fd9\u4e2a\u8bf7\u6c42\u5934\u7684\u65f6\u95f4\u8fdb\u884c\u5bf9\u6bd4\uff0c\u76f8\u7b49\u8fd4\u56de304\u63d0\u524d\u5173\u95ed\u8bf7\u6c42\u5373\u53ef\uff0c\u6d4f\u89c8\u5668\u4f1a\u81ea\u5df1\u53bb\u7f13\u5b58\u91cc\u62ff\u3002",(0,c.jsx)("code",{children:(0,c.jsx)("pre",{children:"\nlet statObj= await fs.stat(absPath)\nlet ctime = statObj.ctime.toGMTString()\nres.setHeader('Last-Modified',ctime)//\u8bbe\u7f6e\nlet ifModifiedSince =req.headers['if-modified-since']//\u83b7\u53d6\nif(ifModifiedSince===ctime){\n    res.statusCode=304\n    return res.end()//\u76f4\u63a5\u8fd4\u56de\n}\n                      "})}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),"\u770b\u4e00\u4e0betag\u8bbe\u7f6e\uff1a",(0,c.jsx)("br",{}),"etag\u8981\u7a0d\u5fae\u590d\u6742\u70b9\uff0c\u4e3b\u8981\u770b\u6458\u8981\u7b97\u6cd5\uff0c\u4e00\u822c\u7684\u6458\u8981\u7b97\u6cd5\u662f\u7528md5\uff0c\u7531\u4e8emd5\u4f1a\u66b4\u529b\u7834\u89e3\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u91c7\u7528sha1\u6216\u8005sha256\u7b49\u52a0\u76d0\u7b97\u6cd5\uff0c\u5176\u4e2d\u76d0\u503c\u5c31\u662f\u76f8\u5f53\u4e8e\u81ea\u5df1\u7684\u4e00\u4e2a\u5bc6\u7801\u672c\uff0c\u8981\u66b4\u529b\u7834\u89e3\u5fc5\u987b\u77e5\u9053\u76d0\u503c\u624d\u884c\u3002",(0,c.jsx)("br",{}),"\u8fd9\u4e9b\u7b97\u6cd5\u5728nodejs\u81ea\u5e26\u7684crypto\u91cc\u90fd\u6709\u3002",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("code",{children:(0,c.jsx)("pre",{children:"\nlet content = await fs.readFile(currentpath,'utf8')\nlet hash = crypto.createHash('md5').update(content).digest('base64')\nres.setHeader('Etag',hash)\nlet ifNoneMatch =req.headers['if-none-match']\nif(ifNoneMatch){\n    res.statusCode=304\n    return res.end()\n}\n                      "})}),(0,c.jsx)("h3",{children:"\u8bf7\u6c42\u5934"})]})}function fe(){var e=(0,i.useRef)(),n=(0,i.useState)(""),t=(0,s.Z)(n,2),r=t[0],o=t[1];return(0,i.useEffect)((function(){e.current||(console.log("\u521b\u5efawebsocket"),e.current=new WebSocket("ws://127.0.0.1:3008"),e.current.onopen=function(n){var t;null===(t=e.current)||void 0===t||t.send("My name is John")},e.current.onmessage=function(e){console.log("\u63a5\u6536\u5230\u6570\u636e: ".concat(e.data))},e.current.onclose=function(e){e.wasClean?console.log("[close]888 Connection closed cleanly, code=".concat(e.code," reason=").concat(e.reason)):console.log("[close]888 Connection died")},e.current.onerror=function(e){console.error("websocket\u9519\u8bef",e)})}),[]),(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{value:r,onChange:function(e){return o(e.target.value)},type:"text"})," ",(0,c.jsx)("br",{}),(0,c.jsx)("button",{onClick:function(){var n;return null===(n=e.current)||void 0===n?void 0:n.send(r)},children:"\u53d1\u9001"})]})}var pe=t(9434),je=t(4102);function ve(){var e,n=(0,pe.I0)(),t=(0,i.useRef)(null);(0,i.useEffect)((function(){console.log(t.current,"ref\u8f6c\u53d1 ")}),[]);var r=(0,pe.v9)((function(e){return e.count2}));return console.log("store\uff1a",r),(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{onClick:function(){setTimeout((function(){n((0,je.b)())}),2e3)},children:"\u70b9\u51fb\u5168\u5c40cout+1"})," ",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),"valueObj:",null===r||void 0===r||null===(e=r.valueObj)||void 0===e?void 0:e.v," ",(0,c.jsx)("br",{}),"value:",null===r||void 0===r?void 0:r.value," ",(0,c.jsx)("br",{}),"v:",null===r||void 0===r?void 0:r.v,(0,c.jsx)(me,{v:null===r||void 0===r?void 0:r.value}),(0,c.jsx)(ge,{ref:t})]})}function me(e){var n=(0,i.useRef)(null),t=(0,i.useState)(""),r=(0,s.Z)(t,2),o=r[0],a=r[1];return(0,i.useEffect)((function(){if(n.current){n.current.addEventListener("click",(function(){(function(){a(Math.random().toString(16).slice(2,8))})(),setTimeout((function(){a("\u7b2c\u4e00\u6b21"),console.log("\u7b2c\u4e00\u6b21\uff1a",o)}),500)}))}}),[]),console.log("render C:",o),(0,c.jsxs)("div",{children:[e.v,(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{ref:n,children:["\u539f\u751f\u4e8b\u4ef6\u66f4\u65b0c:",o]}),(0,c.jsx)(be,{v:e.v}),(0,c.jsxs)("div",{onClick:function(){a((function(e){return console.log("pre1:",e),e+"*"})),a((function(e){return console.log("pre2:",e),e+"*"}))},children:["\u5408\u6210\u4e8b\u4ef6\u66f4\u65b0c:",o]})]})]})}function be(e){return(0,c.jsx)("div",{children:e.v})}var ge=i.forwardRef((function(e,n){return(0,c.jsx)("div",{children:(0,c.jsx)("input",{ref:n,type:"text"})})})),ye=t(7762),ke="styles_container__TzKs0",Ce="styles_pagesContainer__Ikg6y",Ze="styles_page__1wXo1",Se="styles_visiblePage__kTLy3",Ee="styles_currentLeft__BaMnj",we="styles_currentRight__OI+1m",Pe=Array(5).fill("empty");function Re(){var e=(0,i.useRef)(null),n=(0,i.useState)({v:0,dir:""}),t=(0,s.Z)(n,2),r=t[0],o=t[1];return(0,i.useEffect)((function(){""!==r.dir&&function(e,n,t){e&&("right"===t?(e.scrollBy({left:800}),e.children[n]&&(e.children[n].classList.contains(Ee)?e.children[n].classList.replace(Ee,we):e.children[n].classList.add(we)),e.children[n-1]&&(e.children[n-1].classList.contains(Ee)?e.children[n-1].classList.replace(Ee,we):e.children[n-1].classList.add(we)),Ie(e)):(e.scrollBy({left:-800}),e.children[n]&&(e.children[n].classList.contains(we)?e.children[n].classList.replace(we,Ee):e.children[n].classList.add(Ee)),e.children[n+1]&&(e.children[n+1].classList.contains(we)?e.children[n+1].classList.replace(we,Ee):e.children[n+1].classList.add(Ee)),Ie(e)))}(e.current,r.v,r.dir)}),[r]),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{onClick:function(){var e=r.v-1;e<0||o({v:e,dir:"left"})},children:"\u5de6\u7ffb\u9875"}),(0,c.jsx)("button",{onClick:function(){var e=r.v+1;e>Pe.length-1||o({v:e,dir:"right"})},children:"\u53f3\u7ffb\u9875"})]}),(0,c.jsx)("div",{className:ke,children:(0,c.jsx)("div",{ref:e,className:Ce,children:Pe.map((function(e,n){return(0,c.jsxs)("div",{className:"".concat(Ze," ").concat(n===r.v?Se:""),children:[(0,c.jsxs)("h2",{children:["\u6587\u5b57\u6587\u5b57\u6587\u5b57",r.v]}),(0,c.jsx)("h3",{children:"\u6587\u5b57\u6587\u5b57\u6587\u5b57 "})]})}))})})]})}function Ie(e){e&&setTimeout((function(){var n,t=(0,ye.Z)(e.children);try{for(t.s();!(n=t.n()).done;){n.value.classList.remove(we,Ee)}}catch(r){t.e(r)}finally{t.f()}}),550)}var Ne="styles_container__AoJbC";function Me(){var e=document.getElementById("container");if(e){var n=getComputedStyle(e).height;e.style.height=parseInt(n)+10+"px",n=getComputedStyle(e).height,e.style.height=parseInt(n)+5+"px"}}function Te(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,c.jsxs)("div",{style:{border:"1px solid red"},children:[(0,c.jsx)("p",{style:{color:"red"},children:e.split(".")[0]}),(0,c.jsx)("p",{style:{color:"green"},children:e.split(".")[1]})]})}(function(e){var n=(0,i.useState)(),t=(0,s.Z)(n,2),r=t[0],o=t[1];return(0,i.useEffect)((function(){setTimeout((function(){o("\u5df2\u7ecf\u83b7\u5f97\u968f\u673a\u6570\u636e\uff1a"+e+Math.random())}),1e3)}),[e]),console.log("useDelayFetch,\u8fd4\u56de\u7684\u6570\u636e:",r),r}("\u7231\u4e0a\u4e86JFK"));return(0,c.jsxs)("div",{children:["T1",(0,c.jsx)("br",{}),"\u8fd9\u662f\u6e32\u67d3\u7684\u6570\u636e\uff1a ",(0,c.jsx)("br",{}),e]})}var Ae=i.memo(Te);function _e(e){var n=(0,i.useState)(e),t=(0,s.Z)(n,2),r=t[0],o=t[1];return(0,i.useEffect)((function(){r>0&&setTimeout((function(){o(r-1)}),1e3)}),[r]),[function(e){o(e)},r]}function Le(e){return(0,c.jsxs)("div",{onClick:e.disable?function(){}:e.onClick,style:{border:"1px solid red"},children:["\u7ec4\u4ef6\u662f\u5426\u53ef\u4ee5\u70b9\u51fb: ",String(!e.disable)," ",(0,c.jsx)("br",{}),"\u7ec4\u4ef6\u6587\u6848\uff1a",e.text]})}function Oe(e){var n=_e(0),t=(0,s.Z)(n,2),r=t[0],o=t[1],a=e.onClick,l=(0,i.useCallback)((function(){a(),r(60)}),[a,r]);return(0,c.jsx)("div",{children:(0,c.jsx)(Le,{onClick:l,text:e.text+"(".concat(o,")"),disable:void 0===e.disable?0!==o:0!==o&&e.disable})})}var He="styles_container__ObRdj",Be=t(3659);function Fe(){var e=(0,i.useState)(0),n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,c.jsxs)("div",{children:[(0,c.jsx)(Be.Z,{onChange:function(e){r(+e.target.value)},type:"number"}),"\u901a\u8fc7\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u51fd\u6570\uff0c\u63a7\u5236\u8f93\u5165\u503c\u4e3a\u5355\u6570\u7684\u65f6\u5019\u624d\u66f4\u65b0\u5b50\u7ec4\u4ef6: ",(0,c.jsx)("br",{}),"\u5b50\u7ec4\u4ef6\uff1a",(0,c.jsx)(Ke,{v:t})]})}var Ke=i.memo(qe,(function(e,n){return console.log(e,n,"****"),n.v%2!==1}));function qe(e){return(0,c.jsxs)("div",{children:["\u88abmemo\u5305\u88f9\u7684\u7ec4\u4ef6",e.v]})}var ze=function(e){return function(n){return(0,c.jsx)(e,(0,r.Z)({v:"\u73b0\u5728\u662f\u83b7\u53d6\u4e86happy"},n))}}((function(e){return(0,c.jsxs)("i",{children:[e.v,"\uff0c\u53e6\u4e00\u4e2a\uff1a",e.a]})}));function Xe(){return(0,c.jsxs)("div",{children:["\u9ad8\u9636\u7ec4\u4ef6\u5c31\u662f\u4e00\u4e2a\u4ee5\u7ec4\u4ef6\u4e3a\u53c2\u6570\u7684\u51fd\u6570\uff0c \u91cc\u9762\u4e00\u822c\u662f\u4e00\u4e9b\u62bd\u51fa\u6765\u7684\u903b\u8f91\uff0c\u7136\u540e\u5c06\u8fd9\u6bb5\u903b\u8f91\u5f97\u5230\u7684\u7ed3\u679c\u4f5c\u4e3aprosp\u4f20\u9012\u7ed9\u5165\u53c2\u7ec4\u4ef6\uff1b\u7136\u540e\u4ee5\u67d0\u79cd\u5f62\u5f0f\u8fd4\u56de\u5b83",(0,c.jsx)("br",{}),"\u4f8b\u5982\uff1a",(0,c.jsx)("br",{}),(0,c.jsx)(ze,{a:"\u8fd8\u53ef\u4ee5\u6ce8\u5165\u53e6\u4e00\u4e2a\u53c2\u6570"})]})}function De(){return(0,c.jsxs)("div",{children:["const [state, dispatch] = useReducer(reducer, initialState) ",(0,c.jsx)("br",{}),"1. \u9996\u5148useReducer\u8fd4\u56de\u7684\u5185\u5bb9\u662f\u4e00\u4e2astate\u548cdisPatch\uff0c\u8fd9\u4e2adispatch\u662f\u548cuseCallback\u7c7b\u4f3c\uff0c\u5df2\u7ecf\u662f\u88ab\u7f13\u5b58\u4e86\u7684 ",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),"2. \u7136\u540euseReducer\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5c06\u4f5c\u4e3a\u4e0b\u4e00\u4e2astate\uff1b\u8fd9\u4e2a\u51fd\u6570\u67092\u4e2a\u53c2\u6570\uff1a\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5f53\u524d\u7684state\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662fdispatch\u4f20\u7ed9\u5b83\u7684;",(0,c.jsx)("br",{}),"useReducer\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5c31\u662f\u9ed8\u8ba4\u7684state",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("b",{children:"\u53ef\u4ee5\u7528\u6765\u5904\u7406\u4e00\u4e9b\u6bd4\u8f83\u590d\u6742\u7684state\uff0c\u6216\u8005state\u7684\u66f4\u65b0\u4f9d\u8d56\u4e8e\u65e7\u7684state"}),(0,c.jsx)("br",{})," ",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)(Je,{})]})}var Ue={count:0,v:""};function We(e,n){return console.log({state:e,action:n}),{count:0,v:JSON.stringify(n)}}var Ge=i.memo((function(e){return console.log("\u81ea\u5b9a\u4e49\u7684\u6309\u94ae\u66f4\u65b0\u4e86"),(0,c.jsx)("button",{onClick:function(){return e.onClick("\u53ef\u9009\u7684\u4f20\u503c")},children:"\u70b9\u51fb\u4f20\u503c1"})}));function Je(){var e=(0,i.useReducer)(We,Ue),n=(0,s.Z)(e,2),t=n[0],r=n[1],o=(0,i.useMemo)((function(){return 123}),[]);console.log("\u66f4\u65b0\u540e\u7684state\uff1a",t,o);var a=(0,i.useState)(""),l=(0,s.Z)(a,2),d=l[0],u=l[1],h=(0,i.useCallback)((function(){return r({v:"\u4f20\u7ed9reducer\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7684\u503c"})}),[]);return(0,c.jsxs)("div",{children:[(0,c.jsxs)("button",{onClick:function(){u(Math.random().toString(16).slice(3,9))},children:["\u70b9\u51fb\u66f4\u65b0\u672c\u7ec4\u4ef6\u7684setState\u7684\u63a7\u5236\u7684\u72b6\u6001",d]})," ",(0,c.jsx)("br",{}),(0,c.jsx)(Ge,{onClick:h}),(0,c.jsx)(Ge,{onClick:r})]})}function Ve(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return console.log("\u7ecf\u8fc7\u590d\u6742\u8ba1\u7b97\uff0c\u5f97\u5230\u4e86\u521d\u59cbstate\uff1a",null!==n&&void 0!==n?n:""),Ye()}function Ye(){return Math.random().toString(16).slice(2,8)}function Qe(e){var n=(0,i.useState)(""),t=(0,s.Z)(n,2),r=t[0],o=t[1],a=(0,i.useState)(Ve("state2\u521d\u59cb\u5316")),l=(0,s.Z)(a,2),d=l[0],u=(l[1],(0,i.useState)((function(){return Ve("state3\u521d\u59cb\u5316")}))),h=(0,s.Z)(u,2),x=h[0],f=(h[1],e.num1),p=function(e){var n=(0,i.useState)(e),t=(0,s.Z)(n,2),r=t[0];t[1];return r}(e.num1);return(0,c.jsx)("div",{style:{border:"1px solid red",margin:"10px"},children:(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"state\u60f0\u6027\u521d\u59cb\u5316"}),"\u5173\u952e\u8bcd\uff1a hooks \u521d\u59cb\u5316 ",(0,c.jsx)("br",{})," ",(0,c.jsx)("br",{}),(0,c.jsxs)("button",{onClick:function(){return o(Ye())},children:["\u70b9\u51fbsetState1\uff1a",r]})," ",(0,c.jsx)("br",{}),(0,c.jsxs)("h4",{children:["\u81ea\u5b9a\u4e49 hooks\u72b6\u6001- myState: ",f," ",(0,c.jsx)("br",{})]}),(0,c.jsxs)("h4",{children:["\u81ea\u5b9a\u4e49 hooks\u72b6\u6001- myState2: ",p," ",(0,c.jsx)("br",{})]}),(0,c.jsx)("div",{children:"\u8fd9\u91cc\u4f7f\u7528\u81ea\u5b9a\u4e49hooks\u5c31\u6709\u4e00\u4e2a\u9677\u9631\uff1a\u7531\u4e8e\u81ea\u5b9a\u4e49hooks\u4f7f\u7528\u4e86setState\u6765\u521d\u59cb\u5316\u72b6\u6001\uff0c\u4f1a\u5bfc\u81f4\u5b83\u548csetState\u4e00\u6837\uff0c\u53ea\u8bb0\u4f4f\u4e86\u7b2c\u4e00\u6b21\u7684\u503c"}),(0,c.jsxs)("h4",{children:["hooks\u72b6\u6001-state1: ",r," ",(0,c.jsx)("br",{})]}),(0,c.jsxs)("h4",{children:["hooks\u72b6\u6001-state2: ",d," ",(0,c.jsx)("br",{})]}),(0,c.jsx)("code",{children:"useState(getInitState('state2'));"})," ",(0,c.jsx)("br",{}),"\u662f\u9519\u8bef\u7684\u60f0\u6027\u521d\u59cb\u5316\u65b9\u5f0f\uff1a\u6bcf\u6b21\u7ec4\u4ef6\u66f4\u65b0\uff0cgetInitState\u90fd\u4f1a\u8fd0\u884c\uff0c\u4f46\u662f\u503c\u5e76\u4e0d\u4f1a\u6539\u53d8\uff1b\u8fd9\u6beb\u65e0\u610f\u4e49\uff1b ",(0,c.jsx)("br",{}),"\u9664\u6b64\u4e4b\u5916\uff0c\u5982\u679chooks\u7684\u53c2\u6570\u6765\u81eaprops\u4e5f\u4f1a\u5982\u6b64",(0,c.jsx)("br",{}),(0,c.jsxs)("h4",{children:["hooks\u72b6\u6001-state3: ",x," ",(0,c.jsx)("br",{})]}),(0,c.jsx)("code",{children:"useState(() => getInitState('state3\u521d\u59cb\u5316'))"})," ",(0,c.jsx)("br",{}),"\u8fd9\u624d\u662f\u6b63\u786e\u7684\u60f0\u6027\u521d\u59cb\u5316\u65b9\u5f0f",(0,c.jsx)("br",{})," ",(0,c.jsx)("br",{})]})})}function $e(){var e=(0,i.useState)(""),n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,c.jsxs)("div",{children:["\u4f7f\u7528useEffect\u4fee\u6539sate\uff0c\u4ece\u800c\u9020\u62102\u6b21\u66f4\u65b0 \uff1a ",(0,c.jsx)("br",{}),(0,c.jsx)(Be.Z,{placeholder:"\u4fee\u6539\u4f20\u5b50\u7ec4\u4ef6\u7684props",value:t,onChange:function(e){return r(e.target.value)}})," ",(0,c.jsx)("br",{}),(0,c.jsx)(en,{a:t})]})}function en(e){var n=(0,i.useState)(e.a),t=(0,s.Z)(n,2),r=t[0],o=t[1];return(0,i.useEffect)((function(){o(e.a)}),[e.a]),console.log("\u5b50\u7ec4\u4ef6\u6e32\u67d3\uff1a",{state:r,"props.a":e.a}),(0,c.jsx)("div",{children:(0,c.jsxs)("code",{children:["state: ",r," ",(0,c.jsx)("br",{}),"props.a: ",e.a]})})}function nn(){var e=(0,i.useState)(""),n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,c.jsxs)("div",{children:["\u4f7f\u7528useEffect\u4fee\u6539sate\uff0c\u4ece\u800c\u9020\u62102\u6b21\u66f4\u65b0 \uff1a ",(0,c.jsx)("br",{}),(0,c.jsx)(Be.Z,{placeholder:"\u4fee\u6539\u4f20\u5b50\u7ec4\u4ef6\u7684props",value:t,onChange:function(e){return r(e.target.value)}})," ",(0,c.jsx)("br",{}),"----------------\u4e0b\u9762\u662f\u5b50\u7ec4\u4ef6\uff1a---------------------- ",(0,c.jsx)("br",{}),(0,c.jsx)(sn,{a:t})]})}function tn(){console.log("a9999")}var rn=new Proxy({color:"red"},{get:function(){return tn(),Reflect.get.apply(Reflect,arguments)}});function sn(e){var n=(0,i.useRef)(e.a),t=(0,i.useState)({}),r=(0,s.Z)(t,2)[1];return console.log("1"),(0,i.useMemo)((function(){n.current=e.a,console.log("2")}),[e.a]),console.log("3"),console.log("\u5b50\u7ec4\u4ef6\u66f4\u65b0",{"props.a":e.a,"stateRef.current":n.current}),(0,c.jsxs)("div",{children:["\u5b50\u7ec4\u4ef6\u81ea\u5df1\u66f4\u65b0state ",(0,c.jsx)("input",{value:n.current,onChange:function(e){var t;t=e.target.value,n.current=t,r({})}}),(0,c.jsxs)("code",{children:["stateRef.current:",n.current,(0,c.jsx)("div",{children:(0,c.jsx)("div",{style:{color:rn.color},children:"\u7ea2\u8272\uff01 "})})]})]})}var on={reactHooks:function(){return(0,c.jsx)("div",{children:"ReactHooks"})},Effects:function(){var e=(0,i.useRef)(null),n=(0,i.useState)(0),t=(0,s.Z)(n,2),r=t[0],o=t[1];return(0,i.useEffect)((function(){console.log("useEffect\u6267\u884c"),new Promise((function(e){e(1)})).then((function(){console.log(1)})),Me()}),[r]),(0,i.useLayoutEffect)((function(){(function(){for(var e=1,n=0;n<1e7;n++)e+=Math.pow(-1,n);console.log(e)})(),console.log("uselayout effect\u6267\u884c"),new Promise((function(e){e(1)})).then((function(){console.log(1)})),Me()}),[r]),(0,c.jsxs)("div",{children:["useEffect\u548cuseLayoutEffectbr",(0,c.jsx)("br",{}),"000000",(0,c.jsx)("div",{id:"container",onClick:function(){setTimeout((function(){o(r+1)}),1e3)},className:Ne,ref:e,children:"\u70b9\u51fb\u4fee\u6539\u5bb9\u5668\u6837\u5f0f\uff0c\u5f15\u8d77\u91cd\u6392\u548c\u91cd\u7ed8"}),"0000000\uff0c \u7ed3\u8bba\uff1a\u5f53\u524d\u4efb\u52a1\u65f6\u95f4\u8fc7\u957f\u7684\u8bdd\uff0c\u4f1a\u5c06useEffect\u7684\u56de\u8c03\u51fd\u6570\u653e\u5230\u4e0b\u4e00\u4e2a\u4efb\u52a1\u53bb\u6267\u884c,useLayoutEffect\u7684\u56de\u8c03\u6c38\u8fdc\u5c5e\u4e8e\u5f53\u524d\u4efb\u52a1\u5faa\u73af"]})},myhooks:function(){var e=_e(10),n=(0,s.Z)(e,2),t=n[0],r=n[1],o=(0,i.useState)(0),a=(0,s.Z)(o,2),l=a[0],d=a[1];return console.log("\u4e3b\u51fd\u6570render\uff0c\u5012\u8ba1\u65f6\uff1a",r),(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{onChange:function(e){d(+e.target.value)},type:"number"}),(0,c.jsx)("button",{onClick:function(){t(l)},children:(0,c.jsxs)("div",{children:["\u4f7f\u7528\u8fd9\u4e2a\u6570\u5b57\u5f00\u59cb\u5012\u6570\uff0c\u5f53\u524d\u5012\u6570\uff1a",r]})}),(0,c.jsx)("div",{children:"1"}),"******* ",(0,c.jsx)("br",{}),(0,c.jsx)(Oe,{text:"\u70b9\u51fb\u5012\u6570",onClick:function(){return console.log("\u70b9\u51fb\u4e86\u6309\u94ae")}}),(0,c.jsx)("div",{className:"container",children:(0,c.jsx)(Ae,{})})]})},PerformanceAbout:function(){return(0,c.jsxs)("div",{children:["\u6027\u80fd\u4f18\u5316\u76f8\u5173",(0,c.jsx)("a",{href:"https://blog.csdn.net/zjjcchina/article/details/121469117",children:"\u5168\u9762\u7684"}),(0,c.jsxs)("div",{className:He,children:[(0,c.jsx)("h2",{children:"1. React.memo\u548ccomponentShouldUpdate/React.PureComponent"}),(0,c.jsxs)("p",{children:["\u8fd93\u4e2a\u90fd\u662f\u4e00\u6837\u7684\u9053\u7406\uff0c\u901a\u8fc7\u5bf9\u6bd4props\u5bf9\u6bd4\uff0c\u51b3\u5b9a\u662f\u5426\u9700\u8981\u66f4\u65b0\uff0c ",(0,c.jsx)("br",{}),"\u5176\u4e2dReact.memo\u5c31\u662f\u9ad8\u9636\u7ec4\u4ef6\uff0c\u7528\u5b83\u6765\u5305\u88f9\u5c0f\u7ec4\u4ef6\u5373\u53ef"]}),(0,c.jsx)("code",{children:(0,c.jsx)("pre",{children:"                     function MyComponent(props) {\n                          /* \u4f7f\u7528 props \u6e32\u67d3 */\n                      }\n                      function areEqual(prevProps, nextProps) {\n                          /*\n                         \u5982\u679c\u524d\u540e\u7684props\u4e00\u6837 \u5219\u53ef\u4ee5return true\u8868\u793a\u4e0d\u66f4\u65b0\uff0c\n                          */\n                      }\n                      export default React.memo(MyComponent, areEqual);\n"})}),(0,c.jsx)("br",{}),(0,c.jsx)(Fe,{})]}),(0,c.jsx)("br",{}),(0,c.jsxs)("div",{className:He,children:[(0,c.jsx)("h2",{children:"2. \u4f7f\u7528useMemo\u7f13\u5b58\u5927\u91cf\u7684\u8ba1\u7b97\uff0cuseCallback"}),(0,c.jsx)("h3",{children:"3.  \u4f7f\u7528React.Fragment\u907f\u514d\u6dfb\u52a0\u989d\u5916\u7684DOM\uff0c\u5c31\u662f\u4e00\u4e2a\u7a7a\u6807\u7b7e"}),(0,c.jsx)("p",{}),(0,c.jsx)("code",{children:(0,c.jsx)("pre",{children:"                   \n// \u907f\u514d\u8fd9\u6837\u505a\nfunction Component(props) {\n  const someProp = heavyCalculation(props.item);\n  return <AnotherComponent someProp={someProp} /> \n}\n  \n// \u53ea\u6709 props.item \u6539\u53d8\u65f6someProp\u7684\u503c\u624d\u4f1a\u88ab\u91cd\u65b0\u8ba1\u7b97\n                      function Component(props) {\n  const someProp = useMemo(() => heavyCalculation(props.item), [props.item]);\nreturn <AnotherComponent someProp={someProp} /> \n}\n"})}),(0,c.jsx)("br",{}),"useCallbak\u548c\u8fd9\u4e2a\u7528\u6cd5\u533a\u522b\uff1auseMemo\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u7684\u8fd0\u884c\u7ed3\u679c\u624d\u662f\u7f13\u5b58\u7684\u503c\uff1b ",(0,c.jsx)("br",{}),"\u800cuseCallback\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5c31\u662f\u7f13\u5b58\u7684\u7ed3\u679c,useCallback\u7684\u4f5c\u7528\u662f\uff1a\u5f53\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u63a5\u53d7\u4e86\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3aprops\uff0c\u7136\u540e\u7236\u7ec4\u4ef6\u91cd\u6e32\u67d3\u4e86\uff0c\u8fd9\u4e2a\u51fd\u6570\u4e5f\u5c31\u91cd\u65b0\u58f0\u660e\u4e86\uff0c \u5b50\u7ec4\u4ef6\u5c31\u5fc5\u5b9a\u4f1a\u89e6\u53d1\u66f4\u65b0\uff0c\u4e8e\u662f\u5c31\u4f7f\u7528useCallback\uff0c\u7f13\u5b58\u8fd9\u4e2a\u51fd\u6570\uff0c\u8fd9\u6837\u5b50\u7236\u7ec4\u4ef6\u66f4\u65b0\u7684\u65f6\u5019\u5c31\u4e0d\u4f1a\u89e6\u53d1\u51fd\u6570\u91cd\u65b0\u58f0\u660e\u4e86;"]}),(0,c.jsxs)("div",{className:He,children:[(0,c.jsx)("h2",{children:"4. \u9ad8\u9636\u7ec4\u4ef6"}),(0,c.jsx)(Xe,{})]}),(0,c.jsxs)("div",{className:He,children:[(0,c.jsx)("h2",{children:"5. useReducer\u66ff\u4ee3useState"}),(0,c.jsx)(De,{})]})]})},ConTextTest:function(){return(0,c.jsx)("div",{children:"ConTextTest"})},UseStateT:function(){var e=(0,i.useState)(""),n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("h2",{children:"useState\u6ce8\u610f\u4e8b\u9879"}),(0,c.jsx)(oe,{children:(0,c.jsx)(oe.Panel,{header:"useState\u521d\u59cb\u5316\u7684\u65f6\u5019\u6ce8\u610f\u4e8b\u9879",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:(0,c.jsx)("b",{children:"\u6bcf\u6b21\u51fd\u6570\u66f4\u65b0\uff0c\u5176\u5185\u7684hooks\u90fd\u4f1a\u8fd0\u884c\u4e00\u904d\uff0c\u6240\u4ee5useState\u4e5f\u4f1a\u8fd0\u884c\u4e00\u6b21\uff0c\u4f46\u662fuseState\u4f1a\u8bb0\u4f4f\u6700\u521d\u4f20\u7ed9\u5b83\u7684\u503c\uff0c\u5e76\u4e0d\u4f1a\u968f\u7740\u53c2\u6570\u7684\u6539\u53d8\u800c\u6539\u53d8,"})}),(0,c.jsxs)("li",{children:[(0,c.jsx)("h4",{children:"\u60f0\u6027\u521d\u59cb\u5316\uff1a\u4f20\u5165\u4e00\u4e2a\u51fd\u6570"}),(0,c.jsxs)("p",{className:"desc",children:["\u6b63\u786e\u7684\uff1a \u6bd4\u5982",(0,c.jsx)("code",{children:"const [state,setState] = useState( Math.random )"}),"  ",(0,c.jsx)("br",{}),"\u90a3\u4e48state\u5c06\u4f1a\u5f97\u5230\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u53ef\u4ee5\u7528\u8fd9\u79cd\u65b9\u5f0f\u6765\u8ba1\u7b97\u590d\u6742\u7684\u503c ;\u5373\u4f7f\u7ec4\u4ef6\u591a\u6b21\u66f4\u65b0\uff0cMath.random\u53ea\u4f1a\u5728\u521d\u59cb\u5316\u7684\u65f6\u5019\u8c03\u75281\u6b21\uff01 ",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("b",{children:"\u9519\u8bef\u7684"}),"\uff1a \u6bd4\u5982 ","const [state2,setState2] = useState( Math.random() )"," ",(0,c.jsx)("br",{}),"\u6bcf\u6b21\u7ec4\u4ef6\u66f4\u65b0\u90fd\u4f1a\u91cd\u65b0\u8c03\u7528\u91cc\u9762\u7684Math.random()\uff0c \u4f46\u662fstate2\u7684\u503c\u5e76\u4e0d\u4f1a\u6539\u53d8\uff0c\u5b83\u4f1a\u8bb0\u4f4f\u7b2c\u4e00\u6b21\u7684Math.random()\uff1b",(0,c.jsx)("br",{}),"\u4f46\u662f\u81ea\u5b9a\u4e49hooks\u4e0d\u4f1a\u6709\u8fd9\u4e2a\u95ee\u9898"]})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("h4",{children:"\u4f20\u5165\u6bcf\u6b21\u7ec4\u4ef6\u6e32\u67d3\u90fd\u4f1a\u6539\u53d8\u7684\u503c\uff0c\u5982props"}),(0,c.jsxs)("p",{className:"desc",children:["\u6bd4\u5982 ","const [state,setState] = useState( props.a )"," ",(0,c.jsx)("br",{}),"\u5982\u679cprops\u4f20\u8fc7\u6765\u7684a\u4f1a\u6539\u53d8\uff0c\u90a3\u4e48\u5b83\u5c06\u53ea\u4f1a\u8bb0\u4f4f\u6700\u5f00\u59cb\u7684\u90a3\u4e2aa ! \uff1b \u8fd9\u79cd\u60c5\u51b5\u548c\u4e0a\u9762\u7684\u9519\u8bef\u60c5\u51b5\u662f\u4e00\u6837\u7684 ",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),"\u4f46\u662f\u81ea\u5b9a\u4e49hooks\u4e0d\u4f1a\u6709\u8fd9\u4e2a\u95ee\u9898\uff0c ",(0,c.jsx)("br",{}),"\u6bd4\u5982 ","const [s,setS] = useMy( props.a )"," ",(0,c.jsx)("br",{}),"\u5b83\u4f1a\u968f\u7740props.a\u7684\u66f4\u65b0\u800c\u66f4\u65b0\uff0c\u9664\u975e\u81ea\u5b9a\u4e49hooks\u8fd4\u56de\u7684s\u5b9e\u9645\u4e0a\u662f\u7531useState\u751f\u6210\u7684state"]})]})]})}),(0,c.jsx)("div",{children:(0,c.jsxs)(oe,{children:[(0,c.jsx)(oe.Panel,{header:"useState\u521d\u59cb\u5316demo",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsxs)("button",{onClick:function(){return r(Ye())},children:["\u70b9\u51fb\u4fee\u6539\u7236\u7ec4\u4ef6\u7684state - num1: ",t," "]}),(0,c.jsx)(Qe,{num1:t})," ",(0,c.jsx)("br",{})]})},"1"),(0,c.jsx)("h2",{children:"\u4f7f\u7528props\u4f5c\u4e3ahooks\u5165\u53c2\u7684 \u89e3\u51b3\u65b9\u6848"}),(0,c.jsx)("b",{children:"\u591a\u6570hooks\u90fd\u4f7f\u7528\u4e86useState\u4f5c\u4e3a\u72b6\u6001\u7ba1\u7406\uff0c\u540c\u65f6\u4e5f\u628a\u5b83\u7684\u5165\u53c2\u4e5f\u6765\u81ea\u4e8eprops\uff0c\u8fd9\u4e2a\u65f6\u5019\uff0c\u5982\u679c\u4f20\u7ed9hooks\u7684\u5165\u53c2\u6539\u53d8\u4e86\uff0c\u90a3\u4e48\u5176\u5185\u4f7f\u7528\u7684state\u5e76\u4e0d\u4f1a\u6539\u53d8\uff0c\u4ece\u800c\u5bfc\u81f4\u8be5hooks\u8fd4\u56de\u7684\u7ed3\u679c\u4e0d\u4f1a\u6539\u53d8"}),(0,c.jsxs)(oe.Panel,{header:"\u4f7f\u7528useEffect\uff0c\u4f46\u662f\u4f1a 2 \u6b21\u6e32\u67d3",children:["\u8fd9\u4e2a\u65b9\u6848\u53ea\u9002\u7528\u4e8euseState\uff0c\u6216\u8005\u66b4\u9732\u4e86setState\u7684\u81ea\u5b9a\u4e49hooks\uff0c\u7531\u4e8e\u4e0d\u4e00\u5b9a\u66b4\u9732\u51fa\u4e86setState\uff0c\u6240\u4ee5\u65e0\u6cd5\u5728useEffect\u91cc\u9762\u4f7f\u7528setState",(0,c.jsx)("br",{})," ",(0,c.jsx)("br",{}),(0,c.jsx)($e,{})]},"2"),(0,c.jsxs)(oe.Panel,{header:"\u4f7f\u7528useRef\u548c\u7a7a\u7684setState\u5237\u65b0\u5b50\u7ec4\u4ef6",children:["\u770b\u8d77\u6765\u8fd8\u597d",(0,c.jsx)("br",{})," ",(0,c.jsx)("br",{}),(0,c.jsx)(nn,{})]},"3"),(0,c.jsx)(oe.Panel,{header:"\u4f7f\u7528useImperativeHandle\u7ed3\u5408forwardRef",children:"TODO \u4e0d\u4f20a\u8fc7\u53bb\uff0c\u5b50\u7ec4\u4ef6\u4f7f\u7528useImperativeHandle\u5c06useState\u8f6c\u53d1\u7ed9\u7236\u7ec4\u4ef6\uff0c\u5e76\u4f7f\u7528memo\u5305\u88f9\u5b50\u7ec4\u4ef6"},"3"),(0,c.jsx)(oe.Panel,{header:"\u7ed9\u5b50\u7ec4\u4ef6\u52a0key=a",children:"TODO \u8fd9\u6837\u6bcf\u6b21\u7531\u4e8ekey\u4e0d\u540c\uff0c\u4f1a\u76f4\u63a5\u5220\u6389\u5b50\u7ec4\u4ef6\uff0c\u91cd\u65b0\u5f04\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u3002 \u5982\u679c\u662f\u5176\u4ed6hooks\uff0c\u53c8\u6ca1\u6709\u629b\u51fasetState\uff0c\u5c31\u53ef\u4ee5\u8fd9\u6837\u4f7f\u7528\uff01"},"3")]})})]})},"1")})]})})}};var cn=[{title:"\u4e34\u65f6\u6d4b\u8bd5",key:"t"},{title:"react",key:"react",children:[{title:"fiber",key:"react-fiber",children:[{title:"leaf",key:"0-0-0-0"},{title:"leaf",key:"0-0-0-1"},{title:"leaf",key:"0-0-0-2"}]},{title:"\u672a\u5206\u7c7b",key:"0-0-1",children:[{title:"Unicode\u5b57\u7b26\u96c6",key:"unicode"}]}].concat((0,o.Z)([{title:"ReactApi",key:"ReactApi",children:[{title:"reactHooks",key:"reactHooks",children:[{title:"Effects",key:"Effects"},{title:"useState",key:"UseStateT"},{title:"useContext",key:"ConTextTest"}]},{title:"myhooks",key:"myhooks"},{title:"\u6027\u80fd\u4f18\u5316\u76f8\u5173",key:"PerformanceAbout"}]}]))},{title:"html",key:"html",children:[{title:"\u8868\u5355\u76f8\u5173",key:"form"}]},{title:"\u6d4f\u89c8\u5668",key:"browser",children:[{title:"\u8de8\u7a97\u53e3\u901a\u4fe1",key:"PostMessageTest"},{title:"\u5b89\u5168\u95ee\u9898",key:"safe"},{title:"fetch\u548cxml",key:"XmlAndFetch"},{title:"\u6d4f\u89c8\u5668\u7f13\u5b58",key:"caches"},{title:"Websocket",key:"Websocket"}]},{title:"redux",key:"redux"}];function an(){var e=(0,i.useState)("react-fiber"),n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,c.jsxs)("div",{children:["\u4e00\u4e9b\u8fd8\u6ca1\u5206\u7c7b\u7684demo",(0,c.jsx)("br",{}),(0,c.jsxs)("div",{className:l,children:[(0,c.jsx)("div",{className:d,children:(0,c.jsx)(h.Z,{showLine:!0,switcherIcon:(0,c.jsx)(x.Z,{}),defaultExpandedKeys:[t],onSelect:function(e){r(e)},treeData:cn})}),(0,c.jsx)("div",{className:u,children:(0,c.jsx)(ln,{comKey:t})})]})]})}function ln(e){var n=e.comKey,t=(0,r.Z)({"react-fiber":a,unicode:v,form:ce,PostMessageTest:ae,safe:de,XmlAndFetch:ue,caches:xe,Websocket:fe,redux:ve,t:Re},on)[n]||function(){return"\u6240\u9009\u8282\u70b9\u5728map\u4e2d\u4e0d\u5b58\u5728\u8be5key:"+n};return(0,c.jsx)(t,{})}},9613:function(e){e.exports=function(e,n,t,r){var s=t?t.call(r,e,n):void 0;if(void 0!==s)return!!s;if(e===n)return!0;if("object"!==typeof e||!e||"object"!==typeof n||!n)return!1;var o=Object.keys(e),i=Object.keys(n);if(o.length!==i.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),a=0;a<o.length;a++){var l=o[a];if(!c(l))return!1;var d=e[l],u=n[l];if(!1===(s=t?t.call(r,d,u,l):void 0)||void 0===s&&d!==u)return!1}return!0}},7762:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(181);function s(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(0,r.Z)(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==t.return||t.return()}finally{if(a)throw i}}}}}}]);
//# sourceMappingURL=853.ca668188.chunk.js.map